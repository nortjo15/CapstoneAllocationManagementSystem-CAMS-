<!-- 
 Student View Page 
 Displays a table with all students and relevant fields 
 Allows sorting by each field 

 Base Page for Student View - calls all relevant html files 
 --> 
{% extends 'admin_base.html' %}
{% block styles %}

{% load static %}
<link rel="stylesheet" href="{% static 'admin_app/css/modal.css' %}">

<style> 
/* Minimal styles for Notes buttons */
.notes-btn {
    padding: 5px 10px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

.btn-success {
    background-color: #28a745; /* green */
    color: white;
}

.btn-secondary {
    background-color: #6c757d; /* grey */
    color: white;
}

table {
    border-collapse: collapse;
    width: 100%;
    max-width: 800px;
    margin: 20px auto; 
    font-family: Arial, sans-serif; 
}
th, td {
    border: 1px solid #ddd; 
    padding: 8px 12px; 
    text-align: left; 
    max-width: 150px;
    overflow: hidden;
    text-overflow: ellipsis; 
    white-space: nowrap
}
th {
    background-color: #667eea; 
    color: white; 
}
tr:nth-child(even) {
    background-color: f4f4f4;
}
tr:hover {
    background-color: c7cdfd;
}

/* Minimal styling for scrollable */
.scroll-container {
    max-height: 500px;
    overflow-y: auto;
    border: 1px solid #ddd;
}
</style> 
{% endblock styles %}

{% block content %}
<h1 style="text-align:center;">Student List</h1>

<!-- Button to view filters -->
<div style="text-align:center; margin: 15px 0;">
  <button type="button" onclick="openFilterModal()">Open Filters</button>
</div>

<!-- Add Student, Import Students Options -->
<br><br>
<button
    type="button"
    onclick="openModal()"
    style="margin: 10px 0;">+ Add Student
</button> 

<br>
<button 
    type="button"
    onclick="openImportModal()"
    style="margin:10px 0;">Import Students
</button>

<!-- Include htmls -->
{% include "students/student_filters.html" with filter_target_url=filter_target_url degree_major_pairs=degree_major_pairs selected_majors=selected_majors %}
{% include 'students/student_modals.html' with form=add_form %}
{% include 'students/student_importCSV.html' with form=import_form %}
{% include 'students/student_table.html' %}

<!-- Import Scripts -->
{% load static %}
<script src="{% static 'admin_app/js/students/modal_function.js' %}"></script>
<script src="{% static 'admin_app/js/students/student_table.js' %}"></script>
<script src="{% static 'admin_app/js/students/student_filters.js' %}"></script>
<script src="{% static 'admin_app/js/students/add_notes.js' %}"></script>
<script src="{% static 'admin_app/js/students/import_students.js' %}"></script>
<script src="{% static 'admin_app/js/students/add_student.js' %}"></script>

{% endblock content %}