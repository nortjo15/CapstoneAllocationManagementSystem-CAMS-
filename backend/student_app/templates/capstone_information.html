<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Application</title>
    <script src="https://unpkg.com/petite-vue" defer init></script>
</head>

{% extends "student_base.html" %}
{% block content %}
<body>
{% load humanize %}

<main class="container">
  {% if sections %}
    <nav aria-label="Contents">
      <h2>Contents</h2>
      <ol>
        {% for s in sections %}
          <li><a href="#s{{ s.pk }}">{{ s.title }}</a></li>
        {% endfor %}
      </ol>
    </nav>

    {% for s in sections %}
      <section id="s{{ s.pk }}" class="section">
        <h2>{{ s.title }}</h2>

        {% with items=s.contents.all %}
          {% if items %}
            {% for item in items %}
              <article class="card">
                <header>
                  <h3>{{ item.title }}</h3>
                  {% if item.pinned %}<span class="badge">Pinned</span>{% endif %}
                </header>

                <p class="meta">
                  {{ item.published_at|date:"Y-m-d H:i" }}
                  {% if item.expires_at %} Â· expires {{ item.expires_at|naturaltime }}{% endif %}
                </p>

                <div class="body">
                  {{ item.body|linebreaks }}
                </div>
              </article>
            {% endfor %}
          {% else %}
            <p>No content in this section yet.</p>
          {% endif %}
        {% endwith %}
      </section>
    {% endfor %}
  {% else %}
    <p>No sections found.</p>
  {% endif %}
</main>

        

{% endblock content %}